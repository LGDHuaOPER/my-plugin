!function(i,e,t){var n={isObject:function(i){return i&&"object"==typeof i&&Object==i.constructor},isArray:function(i){return i&&"object"==typeof i&&Array==i.constructor},isFunction:function(i){return i&&"function"==typeof i&&Function==i.constructor},isEmptyObject:function(i,e){for(var t in i)if(t!=e)return!1;return!0},isDom:function(i){return!!i&&(i&&i instanceof jQuery?i[0].outerHTML:i instanceof HTMLElement||"object"==typeof i&&1===i.nodeType&&"string"==typeof i.nodeName?i.outerHTML:i)}},o={version:"0.0.1",author:"yqx_cn",index:0,type:["alert","confirm","msg"],open:function(i){return s(i),this},alert:function(i){return s($.extend({},{type:this.type[0]},i)),this},confirm:function(i){return s($.extend({},{type:this.type[1]},i)),this},msg:function(i){return s($.extend({},{type:this.type[2]},i)),this},close:function(i){return s.prototype.close(i),this}},s=function(i){new s.prototype.init(i)};s.prototype={init:function(i){this.domCreat=null,this.domCache=null,this.isConfig=!1,this.config={title:null,area:null,type:null,buttons:null,message:null,showTime:null,skin:null,shade:!0,shadeClose:!1,closeable:null,zIndex:9999999,animate:"open",defaultText:"按钮",defaultMsg:"欢迎使用",defaultTime:3e3},n.isObject(i)&&!n.isEmptyObject(i,"type")&&(this.isConfig=!0),this.config=$.extend({},this.config,i),this.creat()},creat:function(){var i=$("body"),e=this.config,t={},s={};++o.index,e.zIndex+=o.index,t.shade=e.shade?'<div class="dialogView-m-shade" times="'+o.index+'" style="z-index:'+e.zIndex+'"></div>':"",t.animate=e.animate?"dialogView-m-anim-"+e.animate:"dialogView-m-anim-open",t.type=e.type?"dialogView-m-"+e.type:"",t.buttons=e.buttons?'<div class="dialogView-m-buttons"></div>':"",t.styles=e.styles?e.styles:"",t.message=e.message?n.isDom(e.message):"",this.isConfig?t.content='<div class="mobile-dialogView '+(e.className?e.className:"")+'" data-animate="'+e.animate+'" times="'+o.index+'">'+t.shade+'<div class="dialogView-m-main dialogView-m-aniamte '+t.animate+'" style="z-index:'+(e.zIndex+1)+'"><div class="dialogView-m-section"><div class="dialogView-m-wrap '+t.type+" "+(e.skin?e.skin:"")+'" style="'+t.styles+'"> '+this.titleUI()+' <div class="dialogView-m-content">'+t.message+"</div>"+t.buttons+"</div></div></div></div>":t.content='<div class="mobile-dialogView" data-animate="'+e.animate+'" times="'+o.index+'">'+t.shade+'<div class="dialogView-m-main dialogView-m-aniamte '+t.animate+'" style="z-index:'+(e.zIndex+1)+'"><div class="dialogView-m-section"><div class="dialogView-m-wrap"><div class="dialogView-m-content">'+(e.defaultMsg?e.defaultMsg:"")+"</div></div></div></div></div>",i.append(t.content),s={view:$(".mobile-dialogView[times="+o.index+"]"),shade:$(".mobile-dialogView[times="+o.index+"] .dialogView-m-shade"),main:$(".mobile-dialogView[times="+o.index+"] .dialogView-m-main"),section:$(".mobile-dialogView[times="+o.index+"] .dialogView-m-section"),wrap:$(".mobile-dialogView[times="+o.index+"] .dialogView-m-wrap"),content:$(".mobile-dialogView[times="+o.index+"] .dialogView-m-content"),buttons:$(".mobile-dialogView[times="+o.index+"] .dialogView-m-buttons")},this.isConfig?e.showTime&&s.view.attr("showTime",e.showTime):e.defaultTime&&s.view.attr("showTime",e.defaultTime),n.isArray(e.buttons)&&this.buttonsUI(e,s),this.bindUI(e,s)},bindUI:function(i,e){var t=this;e.view.attr("showTime")&&this.close(e.view),function(){e.main.on("click",function(e){i.shade&&i.shadeClose&&function(){t.close($(this).parents(".mobile-dialogView"))}.bind(this)()}),e.wrap.on("click",function(i){i.stopPropagation()})}(),e.main.find("[closeable=true]").on("click",function(i){this.close(e.view,"eventClose")}.bind(this))},titleUI:function(){var i=this.config.title;return n.isObject(i)?'<div class="dialogView-m-title '+(i.skin?i.skin:"")+'" style='+(i.styles?i.styles:"")+">"+n.isDom(i.content)+"</div>":""},buttonsUI:function(i,e){var t=[];!function(){i.type==o.type[0]?t.push(i.buttons[0]):i.type==o.type[1]?(i.buttons.splice(2,i.buttons.length-2),t=i.buttons):i.type==o.type[2]?t=null:t=i.buttons}(),t&&t.forEach(function(t,o){var s=t.skin?t.skin:"",a=t.text?t.text:i.defaultText,l=void 0==t.closeable||t.closeable,d=$("<span data-btn='button' closeable="+l+" data-skin='"+s+"' class='"+s+"'>"+a+"</span>");e.buttons.append(d),n.isFunction(t.callback)&&d.click(function(){t.callback()})})},close:function(i,e){var t=i?$(i):$(".mobile-dialogView"),n=e?0:i?$(i).attr("showTime")||0:0;setTimeout(function(){var i="up"==t.data("animate")?"dialogView-m-anim-down":"dialogView-m-anim-close";t.find(".dialogView-m-main").addClass(i),t.stop().unbind("click"),t.fadeOut(function(){t.remove()})},n)}},s.prototype.init.prototype=s.prototype,i.dialogView=o}(window,document);