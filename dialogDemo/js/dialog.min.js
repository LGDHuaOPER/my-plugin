!function(i,t,e){var n={isObject:function(i){return i&&"object"==typeof i&&Object==i.constructor},isArray:function(i){return i&&"object"==typeof i&&Array==i.constructor},isFunction:function(i){return i&&"function"==typeof i&&Function==i.constructor},isEmptyObject:function(i,t){for(var e in i)if(e!=t)return!1;return!0}},o={version:"0.0.1",author:"yqx_cn",index:0,type:["alert","confirm","msg"],open:function(i){return s(i),this},alert:function(i){return s($.extend({},{type:this.type[0]},i)),this},confirm:function(i){return s($.extend({},{type:this.type[1]},i)),this},msg:function(i){return s($.extend({},{type:this.type[2]},i)),this},close:function(i){return s.prototype.close(i),this}},s=function(i){new s.prototype.init(i)};s.prototype={init:function(i){this.domCreat=null,this.domCache=null,this.isConfig=!1,this.config={title:null,area:null,type:null,buttons:null,message:null,showTime:null,skin:null,shade:!0,shadeClose:!1,closeable:null,zIndex:9999999,animate:"open",defaultText:"按钮",defaultMsg:"欢迎使用",defaultTime:3e3},n.isObject(i)&&!n.isEmptyObject(i,"type")&&(this.isConfig=!0),this.config=$.extend({},this.config,i),this.creat()},creat:function(){var i=$("body"),t=this.config,e={},s={};++o.index,t.zIndex+=o.index,e.shade=t.shade?'<div class="dialogView-m-shade" times="'+o.index+'" style="z-index:'+t.zIndex+'"></div>':"",e.animate=t.animate?"dialogView-m-anim-"+t.animate:"dialogView-m-anim-open",e.type=t.type?"dialogView-m-"+t.type:"",e.buttons=t.buttons?'<div class="dialogView-m-buttons"></div>':"",this.isConfig?e.content='<div class="mobile-dialogView '+(t.className?t.className:"")+'" data-animate="'+t.animate+'" times="'+o.index+'">'+e.shade+'<div class="dialogView-m-main dialogView-m-aniamte '+e.animate+'" style="z-index:'+(t.zIndex+1)+'"><div class="dialogView-m-section"><div class="dialogView-m-wrap '+e.type+" "+(t.skin?t.skin:"")+'"> '+this.titleUI()+' <div class="dialogView-m-content">'+(t.message?t.message:"")+"</div>"+e.buttons+"</div></div></div></div>":e.content='<div class="mobile-dialogView" data-animate="'+t.animate+'" times="'+o.index+'">'+e.shade+'<div class="dialogView-m-main dialogView-m-aniamte '+e.animate+'" style="z-index:'+(t.zIndex+1)+'"><div class="dialogView-m-section"><div class="dialogView-m-wrap"><div class="dialogView-m-content">'+(t.defaultMsg?t.defaultMsg:"")+"</div></div></div></div></div>",i.append(e.content),s={view:$(".mobile-dialogView[times="+o.index+"]"),shade:$(".mobile-dialogView[times="+o.index+"] .dialogView-m-shade"),main:$(".mobile-dialogView[times="+o.index+"] .dialogView-m-main"),section:$(".mobile-dialogView[times="+o.index+"] .dialogView-m-section"),wrap:$(".mobile-dialogView[times="+o.index+"] .dialogView-m-wrap"),content:$(".mobile-dialogView[times="+o.index+"] .dialogView-m-content"),buttons:$(".mobile-dialogView[times="+o.index+"] .dialogView-m-buttons")},this.isConfig?t.showTime&&s.view.attr("showTime",t.showTime):t.defaultTime&&s.view.attr("showTime",t.defaultTime),n.isArray(t.buttons)&&this.buttonsUI(t,s),this.bindUI(t,s)},bindUI:function(i,t){var e=this;t.view.attr("showTime")&&this.close(t.view.attr("times")),function(){t.main.on("click",function(t){i.shade&&i.shadeClose&&function(){e.close($(this).parents(".mobile-dialogView").attr("times"))}.bind(this)()}),t.wrap.on("click",function(i){i.stopPropagation()})}(),t.main.find("[closeable=true]").on("click",function(i){this.close(t.view.attr("times"),"eventClose")}.bind(this))},titleUI:function(){var i=this.config.title;return n.isObject(i)?'<div class="dialogView-m-title" style='+(i.styles?i.styles:"")+">"+i.content+"</div>":""},buttonsUI:function(i,t){var e=[];!function(){i.type==o.type[0]?e.push(i.buttons[0]):i.type==o.type[1]?(i.buttons.splice(2,i.buttons.length-2),e=i.buttons):i.type==o.type[2]?e=null:e=i.buttons}(),e&&e.forEach(function(e,o){var s=e.skin?e.skin:"",a=e.text?e.text:i.defaultText,l=void 0==e.closeable||e.closeable,d=$("<span data-btn='button' closeable="+l+" data-skin='"+s+"' class='"+s+"'>"+a+"</span>");t.buttons.append(d),n.isFunction(e.callback)&&d.click(function(){e.callback()})})},close:function(i,t){var e=i,n=e?$(".mobile-dialogView[times="+e+"]"):$(".mobile-dialogView"),o=t?0:e?$(".mobile-dialogView[times="+e+"]").attr("showTime"):0;setTimeout(function(){var i="up"==n.data("animate")?"dialogView-m-anim-down":"dialogView-m-anim-close";n.find(".dialogView-m-main").addClass(i),n.stop().unbind("click"),n.fadeOut(function(){n.remove()})},o)}},s.prototype.init.prototype=s.prototype,i.dialogView=o}(window,document);